<!DOCTYPE HTML>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>Arknights Global Range Simulator</title>
	<link rel="stylesheet" href="css/styles.css">
	<link rel="shortcut icon" type="image/jpg" href="images/icons/favicon.ico" />
</head>

<body>
	<img id="sprites" src="images/sprites.png" class="hide" alt="sprites"/>
	<div class="container">
		<div class="menu">
			<fieldset id="lappyManager">
				<legend>Lappland</legend>
				<label for="extraDrone">Extra drone?</label>
				<input type="checkbox" id="extraDrone"/>
				<br class="clear" />

				<label for="lappyPosX">Position X</label>
				<input type="range" min="0" step="1" max="14" value="0" id="lappyPosX"/>
				<br class="clear" />

				<label for="lappyPosY">Position Y</label>
				<input type="range" min="0" step="1" max="8" value="0" id="lappyPosY"/>
				<br class="clear" />

				<label for="inspirationAtk">Flat ATK (inspiration)</label>
				<input type="number" min="0" max="1000" value="0" id="inspirationAtk"/>
				<br class="clear" />

				<label for="atkMultBuffs">ATK % buffs</label>
				<input type="number" min="0" max="2000" value="0" id="atkMultBuffs"/>
				<br class="clear" />

				<label for="aspdBuffs">ASPD buffs</label>
				<input type="number" min="0" max="500" value="0" id="aspdBuffs"/>
				<br class="clear" />
			</fieldset>
			<br/>
			<button id="addDummy">Add Dummy</button>
			<button id="startSimulation">Start</button>
			<button id="pauseSimulation" class="hide">Pause</button>
			<button id="resetSimulation">Reset</button>
			<br/>
			<br/>
			<div id="targetDummyManager">
				<!-- Target dummy sections will be inserted here -->
			</div>
		</div>
		<div class="content"><canvas id="game"></canvas></div>
		<div class="footer">
			<table>
				<tr>
					<td>[0] Time (seconds)</td>
					<td id="expectedFocusedDps">6666</td>
					<td class="rowExplanation">Time from skill activation until all enemies are dead</td>
				</tr>
				<tr>
					<td>[1] Expected focused DPS</td>
					<td id="expectedFocusedDps">6666</td>
					<td class="rowExplanation">Sum of the theoratical single target DPS of all drones, assuming no initial warmup over 38.7s (skill duration - 1.3s initial delay)</td>
				</tr>
				<tr>
					<td>[2] Expected AoE DoT DPS</td>
					<td id="expectedAoeDoTDps">5555</td>
					<td class="rowExplanation">Expected AoE DPS versus a single 1 target</td>
				</tr>
				<tr>
					<td>[3] Actual focused DPS</td>
					<td id="actualFocusedDps">4444</td>
					<td class="rowExplanation">Actual damage done from drones focusing down a target</td>
				</tr>
				<tr>
					<td>[4] Actual AoE DoT DPS</td>
					<td id="actualAoEDoTDps">3333</td>
					<td class="rowExplanation">Actual damage done from AoE DoT</td>
				</tr>
				<tr>
					<td>[5] Actual vs expected focused DPS (%)</td>
					<td id="actualToExpectedFocusedDpsRatio">2222</td>
					<td class="rowExplanation">[1] / [3] * 100</td>
				</tr>
				<tr>
					<td>[6] Actual vs expected AoE DoT DPS (%)</td>
					<td id="actualToExpectedAoEDoTDpsRatio">1111</td>
					<td class="rowExplanation">[2] / [4] * 100</td>
				</tr>
			</table>
		</div>
	</div>
	<!--
		"Hurr durr, why arent you using JS modules with imports/exports?"
		
		Listen you here you lil' sh*t, we are asking people to directly open the index.html already,
		do you know what a CORS exception is? Would you rather ask people to disable their browser'
		security settings just to use this?

		I had to adapt this from another project that actually did use modules, but besides having
		gameobjects already defined, that's where the comparison ends. The original app was an
		Electron app.

		Now go back to your hole and trouble me no more, or Warfarin will soon have a new blood donor.
	-->
	<script type="text/javascript" src="scripts/core/utils.js"></script>
	<script type="text/javascript" src="scripts/gameobjects/gameobject_template.js"></script>
	<script type="text/javascript" src="scripts/gameobjects/character_template.js"></script>
	<script type="text/javascript" src="scripts/gameobjects/drone_template.js"></script>
	<script type="text/javascript" src="scripts/gameobjects/drones/LappyS3Drone.js"></script>
	<script type="text/javascript" src="scripts/gameobjects/operators/Lappland.js"></script>
	<script type="text/javascript" src="scripts/gameobjects/enemy/TargetDummy.js"></script>

	<script type="text/javascript" src="scripts/core/renderer.js"></script>
	<script type="text/javascript" src="scripts/core/game.js"></script>
	<script type="text/javascript" src="scripts/core/ui.js"></script>
	<script type="text/javascript">
		akGame.lappland = new Lappland(0, 0);
		akRenderer.display();
	</script>
</body>

</html>